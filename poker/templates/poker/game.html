{% extends "base.html" %}
{% load static from staticfiles %}
{% block content %}
<h3>{{ table.name }}</h3>

{% for player in players %}
<p>{{ player.user }}</p>
{% if player.user == request.user %}
<p>{{ player.card_1 }}
{{ player.card_2 }}</p>
{% else %}
<p>Card Card</p>
{% endif %}

{% if hand != None and player.user == request.user %}
<form method="POST" action="{% url 'fold' hand.id player.id %}">
    {% csrf_token %}
    <input type="submit" value="Fold"/>
</form>
{% endif %}
<br>
<br>
{% endfor %}

<hr>

<button class="btn btn-primary" onclick="show_cards('flop')">Show Flop</button>
<div id="show_flop" class="hidden_card">
    {{ hand.card_1 }}
    {{ hand.card_2 }}
    {{ hand.card_3 }}
</div>


<button class="btn btn-primary" onclick="show_cards('turn')">Show Turn</button>
<div id="show_turn" class="hidden_card">
    {{ hand.card_4 }}
</div>

<button class="btn btn-primary" onclick="show_cards('river')">Show River</button>
<div id="show_river" class="hidden_card">
    {{ hand.card_5 }}
</div>

<button class="btn btn-primary" onclick="show_cards('winner')">Show Winner</button>
<div id="show_winner" class="hidden_card">
    <h3>Winner: {{ winner }}</h3>
</div>

<form method="POST" action="{% url 'start_game' table.id %}">
    {% csrf_token %}
    <input type="submit" value="Shuffle"/>
</form>
   
{% endblock %}

{% block bottom_scripts %}
    <script type="text/javascript" src="{% static 'js/show_cards.js' %}"></script>
{% endblock %}